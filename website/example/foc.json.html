<!--
 *  Flavors of Cacao JSON HTML
 *
 *  The Flavors of Cacao JSON fragment.
 *
 *  Copyright 2025 Keven L. Ates
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 *
-->
<pre>
{
  "extension": "RDFTransform",
  "version": "2.3.4",
  "baseIRI": "foc:choc#",
  "namespaces": {
    "rdf": {
      "namespace": "http://www.w3.org/1999/02/22-rdf-syntax-ns#",
      "location": "http://www.w3.org/1999/02/22-rdf-syntax-ns#",
      "loctype": "URL"
    },
    "rdfs": {
      "namespace": "http://www.w3.org/2000/01/rdf-schema#",
      "location": "http://www.w3.org/2000/01/rdf-schema#",
      "loctype": "URL"
    },
    "owl": {
      "namespace": "http://www.w3.org/2002/07/owl#",
      "location": "http://www.w3.org/2002/07/owl#",
      "loctype": "URL"
    },
    "xsd": {
      "namespace": "http://www.w3.org/2001/XMLSchema#",
      "location": "",
      "loctype": "NONE"
    },
    "vcard": {
      "namespace": "http://www.w3.org/2006/vcard/ns#",
      "location": "http://www.w3.org/2006/vcard/ns#",
      "loctype": "URL"
    },
    "foaf": {
      "namespace": "http://xmlns.com/foaf/0.1/",
      "location": "http://xmlns.com/foaf/spec/index.rdf",
      "loctype": "URL"
    },
    "wiki": {
      "namespace": "https://en.wikipedia.org/wiki/",
      "location": "",
      "loctype": "NONE"
    },
    "choc": {
      "namespace": "foc:choc#",
      "location": "",
      "loctype": "NONE"
    },
    "ref": {
      "namespace": "foc:choc:Reference#",
      "location": "",
      "loctype": "NONE"
    },
    "ingred": {
      "namespace": "foc:choc:Ingredient#",
      "location": "",
      "loctype": "NONE"
    },
    "info": {
      "namespace": "foc:choc:Info#",
      "location": "",
      "loctype": "NONE"
    }
  },
  "subjectMappings": [
    {
      "prefix": "info",
      "valueSource": {
        "source": "row_index"
      },
      "expression": {
        "language": "grel",
        "code": "grel:row.index"
      },
      "propertyMappings": [
        {
          "prefix": "choc",
          "valueSource": {
            "source": "constant",
            "constant": "reference"
          },
          "objectMappings": [
            {
              "prefix": "ref",
              "valueType": {
                "type": "iri"
              },
              "valueSource": {
                "source": "column",
                "columnName": "REF"
              },
              "expression": {
                "language": "grel",
                "code": "grel:toIRIString(value)"
              },
              "typeMappings": [
                {
                  "prefix": "choc",
                  "valueSource": {
                    "source": "constant",
                    "constant": "Reference"
                  }
                }
              ]
            }
          ]
        },
        {
          "prefix": "vcard",
          "valueSource": {
            "source": "constant",
            "constant": "organization-name"
          },
          "objectMappings": [
            {
              "valueType": {
                "type": "language_literal",
                "language": "en"
              },
              "valueSource": {
                "source": "column",
                "columnName": "Company"
              }
            }
          ]
        },
        {
          "prefix": "vcard",
          "valueSource": {
            "source": "constant",
            "constant": "country-name"
          },
          "objectMappings": [
            {
              "valueType": {
                "type": "language_literal",
                "language": "en"
              },
              "valueSource": {
                "source": "column",
                "columnName": "Location"
              }
            }
          ]
        },
        {
          "prefix": "choc",
          "valueSource": {
            "source": "constant",
            "constant": "reviewDate"
          },
          "objectMappings": [
            {
              "valueType": {
                "type": "datatype_literal",
                "datatype": {
                  "prefix": "xsd",
                  "valueSource": {
                    "source": "constant",
                    "constant": "date"
                  }
                }
              },
              "valueSource": {
                "source": "column",
                "columnName": "Review"
              },
              "expression": {
                "language": "grel",
                "code": "grel:if(\n  isNonBlank(value),\n  value.toDate(\"yyyy\").toString(\"yyyy-MM-dd\"),\n  null\n)"
              }
            }
          ]
        },
        {
          "prefix": "choc",
          "valueSource": {
            "source": "constant",
            "constant": "beanOrigin"
          },
          "objectMappings": [
            {
              "valueType": {
                "type": "language_literal",
                "language": "en"
              },
              "valueSource": {
                "source": "column",
                "columnName": "Bean Origin"
              }
            }
          ]
        },
        {
          "prefix": "choc",
          "valueSource": {
            "source": "constant",
            "constant": "beanSpecifics"
          },
          "objectMappings": [
            {
              "valueType": {
                "type": "language_literal",
                "language": "en"
              },
              "valueSource": {
                "source": "column",
                "columnName": "Bean Specifics"
              }
            }
          ]
        },
        {
          "prefix": "choc",
          "valueSource": {
            "source": "constant",
            "constant": "percent"
          },
          "objectMappings": [
            {
              "valueType": {
                "type": "datatype_literal",
                "datatype": {
                  "prefix": "xsd",
                  "valueSource": {
                    "source": "constant",
                    "constant": "double"
                  }
                }
              },
              "valueSource": {
                "source": "column",
                "columnName": "Cocoa Percent"
              },
              "expression": {
                "language": "grel",
                "code": "grel:value.split(\"%\")[0].toNumber()"
              }
            }
          ]
        },
        {
          "prefix": "choc",
          "valueSource": {
            "source": "constant",
            "constant": "ingredients"
          },
          "objectMappings": [
            {
              "valueType": {
                "type": "bnode"
              },
              "valueSource": {
                "source": "column",
                "columnName": "Ingredients"
              },
              "typeMappings": [
                {
                  "prefix": "rdf",
                  "valueSource": {
                    "source": "constant",
                    "constant": "Bag"
                  }
                }
              ],
              "propertyMappings": [
                {
                  "prefix": "rdf",
                  "valueSource": {
                    "source": "constant",
                    "constant": "li"
                  },
                  "objectMappings": [
                    {
                      "prefix": "ingred",
                      "valueType": {
                        "type": "iri"
                      },
                      "valueSource": {
                        "source": "column",
                        "columnName": "Ingredients"
                      },
                      "expression": {
                        "language": "grel",
                        "code": "grel:if(\n  isNonBlank(value),\n  with(\n    smartSplit( toString(value), '-'),\n    aList,\n    if(\n      toNumber( aList[0] ) > 0,\n      toIRIString(\n        with(\n          trim( smartSplit( aList[1] )[0] ),\n          cIng,\n          if( cIng=='B', 'Beans',\n            if( cIng=='S', 'Sugar',\n              if( cIng=='S*', 'Non-sugar Sweetener',\n                if( cIng=='C', 'Cocoa Butter',\n                  if( cIng=='V', 'Vanilla',\n                    if( cIng=='L', 'Lecithin',\n                      if( cIng=='Sa', 'Salt',\n                        null ) ) ) ) ) ) )\n        )\n      ),\n      null\n    )\n  ),\n  null\n)"
                      },
                      "typeMappings": [
                        {
                          "prefix": "choc",
                          "valueSource": {
                            "source": "constant",
                            "constant": "Ingredient"
                          }
                        }
                      ],
                      "propertyMappings": [
                        {
                          "prefix": "rdfs",
                          "valueSource": {
                            "source": "constant",
                            "constant": "label"
                          },
                          "objectMappings": [
                            {
                              "valueType": {
                                "type": "language_literal",
                                "language": "en"
                              },
                              "valueSource": {
                                "source": "column",
                                "columnName": "Ingredients"
                              },
                              "expression": {
                                "language": "grel",
                                "code": "grel:if(\n  isNonBlank(value),\n  with(\n    smartSplit( toString(value), '-'),\n    aList,\n    if(\n      toNumber( aList[0] ) > 0,\n      with(\n        trim( smartSplit( aList[1] )[0] ),\n        cIng,\n        if( cIng=='B', 'Beans',\n          if( cIng=='S', 'Sugar',\n            if( cIng=='S*', 'Non-sugar Sweetener',\n              if( cIng=='C', 'Cocoa Butter',\n                if( cIng=='V', 'Vanilla',\n                  if( cIng=='L', 'Lecithin',\n                    if( cIng=='Sa', 'Salt',\n                      null ) ) ) ) ) ) )\n      ),\n      null\n    )\n  ),\n  null\n)"
                              }
                            }
                          ]
                        },
                        {
                          "prefix": "rdfs",
                          "valueSource": {
                            "source": "constant",
                            "constant": "seeAlso"
                          },
                          "objectMappings": [
                            {
                              "prefix": "wiki",
                              "valueType": {
                                "type": "iri"
                              },
                              "valueSource": {
                                "source": "column",
                                "columnName": "Ingredients"
                              },
                              "expression": {
                                "language": "grel",
                                "code": "grel:if(\n  isNonBlank(value),\n  with(\n    smartSplit( toString(value), '-'),\n    aList,\n    if(\n      toNumber( aList[0] ) > 0,\n      with(\n        trim( smartSplit( aList[1] )[0] ),\n        cIng,\n        if( cIng=='B', 'Cocoa_bean',\n          if( cIng=='S', 'Sugar',\n            if( cIng=='S*', 'Sugar_substitute',\n              if( cIng=='C', 'Cocoa_butter',\n                if( cIng=='V', 'Vanilla',\n                  if( cIng=='L', 'Lecithin',\n                    if( cIng=='Sa', 'Salt',\n                      null ) ) ) ) ) ) )\n      ),\n      null\n    )\n  ),\n  null\n)"
                              }
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "prefix": "rdf",
                  "valueSource": {
                    "source": "constant",
                    "constant": "li"
                  },
                  "objectMappings": [
                    {
                      "prefix": "ingred",
                      "valueType": {
                        "type": "iri"
                      },
                      "valueSource": {
                        "source": "column",
                        "columnName": "Ingredients"
                      },
                      "expression": {
                        "language": "grel",
                        "code": "grel:if(\n  isNonBlank(value),\n  with(\n    smartSplit( toString(value), '-'),\n    aList,\n    if(\n      toNumber( aList[0] ) > 1,\n      toIRIString(\n        with(\n          trim( smartSplit( aList[1] )[1] ),\n          cIng,\n          if( cIng=='B', 'Beans',\n            if( cIng=='S', 'Sugar',\n              if( cIng=='S*', 'Non-sugar Sweetener',\n                if( cIng=='C', 'Cocoa Butter',\n                  if( cIng=='V', 'Vanilla',\n                    if( cIng=='L', 'Lecithin',\n                      if( cIng=='Sa', 'Salt',\n                        null ) ) ) ) ) ) )\n        )\n      ),\n      null\n    )\n  ),\n  null\n)"
                      },
                      "typeMappings": [
                        {
                          "prefix": "choc",
                          "valueSource": {
                            "source": "constant",
                            "constant": "Ingredient"
                          }
                        }
                      ],
                      "propertyMappings": [
                        {
                          "prefix": "rdfs",
                          "valueSource": {
                            "source": "constant",
                            "constant": "label"
                          },
                          "objectMappings": [
                            {
                              "valueType": {
                                "type": "literal"
                              },
                              "valueSource": {
                                "source": "column",
                                "columnName": "Ingredients"
                              },
                              "expression": {
                                "language": "grel",
                                "code": "grel:if(\n  isNonBlank(value),\n  with(\n    smartSplit( toString(value), '-'),\n    aList,\n    if(\n      toNumber( aList[0] ) > 1,\n      with(\n        trim( smartSplit( aList[1] )[1] ),\n        cIng,\n        if( cIng=='B', 'Beans',\n          if( cIng=='S', 'Sugar',\n            if( cIng=='S*', 'Non-sugar Sweetener',\n              if( cIng=='C', 'Cocoa Butter',\n                if( cIng=='V', 'Vanilla',\n                  if( cIng=='L', 'Lecithin',\n                    if( cIng=='Sa', 'Salt',\n                      null ) ) ) ) ) ) )\n      ),\n      null\n    )\n  ),\n  null\n)"
                              }
                            }
                          ]
                        },
                        {
                          "prefix": "rdfs",
                          "valueSource": {
                            "source": "constant",
                            "constant": "seeAlso"
                          },
                          "objectMappings": [
                            {
                              "prefix": "wiki",
                              "valueType": {
                                "type": "iri"
                              },
                              "valueSource": {
                                "source": "column",
                                "columnName": "Ingredients"
                              },
                              "expression": {
                                "language": "grel",
                                "code": "grel:if(\n  isNonBlank(value),\n  with(\n    smartSplit( toString(value), '-'),\n    aList,\n    if(\n      toNumber( aList[0] ) > 1,\n      with(\n        trim( smartSplit( aList[1] )[1] ),\n        cIng,\n        if( cIng=='B', 'Cocoa_bean',\n          if( cIng=='S', 'Sugar',\n            if( cIng=='S*', 'Sugar_substitute',\n              if( cIng=='C', 'Cocoa_butter',\n                if( cIng=='V', 'Vanilla',\n                  if( cIng=='L', 'Lecithin',\n                    if( cIng=='Sa', 'Salt',\n                      null ) ) ) ) ) ) )\n      ),\n      null\n    )\n  ),\n  null\n)"
                              }
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "prefix": "rdf",
                  "valueSource": {
                    "source": "constant",
                    "constant": "li"
                  },
                  "objectMappings": [
                    {
                      "prefix": "ingred",
                      "valueType": {
                        "type": "iri"
                      },
                      "valueSource": {
                        "source": "column",
                        "columnName": "Ingredients"
                      },
                      "expression": {
                        "language": "grel",
                        "code": "grel:if(\n  isNonBlank(value),\n  with(\n    smartSplit( toString(value), '-'),\n    aList,\n    if(\n      toNumber( aList[0] ) > 2,\n      toIRIString(\n        with(\n          trim( smartSplit( aList[1] )[2] ),\n          cIng,\n          if( cIng=='B', 'Beans',\n            if( cIng=='S', 'Sugar',\n              if( cIng=='S*', 'Non-sugar Sweetener',\n                if( cIng=='C', 'Cocoa Butter',\n                  if( cIng=='V', 'Vanilla',\n                    if( cIng=='L', 'Lecithin',\n                      if( cIng=='Sa', 'Salt',\n                        null ) ) ) ) ) ) )\n        )\n      ),\n      null\n    )\n  ),\n  null\n)"
                      },
                      "typeMappings": [
                        {
                          "prefix": "choc",
                          "valueSource": {
                            "source": "constant",
                            "constant": "Ingredient"
                          }
                        }
                      ],
                      "propertyMappings": [
                        {
                          "prefix": "rdfs",
                          "valueSource": {
                            "source": "constant",
                            "constant": "label"
                          },
                          "objectMappings": [
                            {
                              "valueType": {
                                "type": "literal"
                              },
                              "valueSource": {
                                "source": "column",
                                "columnName": "Ingredients"
                              },
                              "expression": {
                                "language": "grel",
                                "code": "grel:if(\n  isNonBlank(value),\n  with(\n    smartSplit( toString(value), '-'),\n    aList,\n    if(\n      toNumber( aList[0] ) > 2,\n      with(\n        trim( smartSplit( aList[1] )[2] ),\n        cIng,\n        if( cIng=='B', 'Beans',\n          if( cIng=='S', 'Sugar',\n            if( cIng=='S*', 'Non-sugar Sweetener',\n              if( cIng=='C', 'Cocoa Butter',\n                if( cIng=='V', 'Vanilla',\n                  if( cIng=='L', 'Lecithin',\n                    if( cIng=='Sa', 'Salt',\n                      null ) ) ) ) ) ) )\n      ),\n      null\n    )\n  ),\n  null\n)"
                              }
                            }
                          ]
                        },
                        {
                          "prefix": "rdfs",
                          "valueSource": {
                            "source": "constant",
                            "constant": "seeAlso"
                          },
                          "objectMappings": [
                            {
                              "prefix": "wiki",
                              "valueType": {
                                "type": "iri"
                              },
                              "valueSource": {
                                "source": "column",
                                "columnName": "Ingredients"
                              },
                              "expression": {
                                "language": "grel",
                                "code": "grel:if(\n  isNonBlank(value),\n  with(\n    smartSplit( toString(value), '-'),\n    aList,\n    if(\n      toNumber( aList[0] ) > 2,\n      with(\n        trim( smartSplit( aList[1] )[2] ),\n        cIng,\n        if( cIng=='B', 'Cocoa_bean',\n          if( cIng=='S', 'Sugar',\n            if( cIng=='S*', 'Sugar_substitute',\n              if( cIng=='C', 'Cocoa_butter',\n                if( cIng=='V', 'Vanilla',\n                  if( cIng=='L', 'Lecithin',\n                    if( cIng=='Sa', 'Salt',\n                      null ) ) ) ) ) ) )\n      ),\n      null\n    )\n  ),\n  null\n)"
                              }
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "prefix": "rdf",
                  "valueSource": {
                    "source": "constant",
                    "constant": "li"
                  },
                  "objectMappings": [
                    {
                      "prefix": "ingred",
                      "valueType": {
                        "type": "iri"
                      },
                      "valueSource": {
                        "source": "column",
                        "columnName": "Ingredients"
                      },
                      "expression": {
                        "language": "grel",
                        "code": "grel:if(\n  isNonBlank(value),\n  with(\n    smartSplit( toString(value), '-'),\n    aList,\n    if(\n      toNumber( aList[0] ) > 3,\n      toIRIString(\n        with(\n          trim( smartSplit( aList[1] )[3] ),\n          cIng,\n          if( cIng=='B', 'Beans',\n            if( cIng=='S', 'Sugar',\n              if( cIng=='S*', 'Non-sugar Sweetener',\n                if( cIng=='C', 'Cocoa Butter',\n                  if( cIng=='V', 'Vanilla',\n                    if( cIng=='L', 'Lecithin',\n                      if( cIng=='Sa', 'Salt',\n                        null ) ) ) ) ) ) )\n        )\n      ),\n      null\n    )\n  ),\n  null\n)"
                      },
                      "typeMappings": [
                        {
                          "prefix": "choc",
                          "valueSource": {
                            "source": "constant",
                            "constant": "Ingredient"
                          }
                        }
                      ],
                      "propertyMappings": [
                        {
                          "prefix": "rdfs",
                          "valueSource": {
                            "source": "constant",
                            "constant": "label"
                          },
                          "objectMappings": [
                            {
                              "valueType": {
                                "type": "literal"
                              },
                              "valueSource": {
                                "source": "column",
                                "columnName": "Ingredients"
                              },
                              "expression": {
                                "language": "grel",
                                "code": "grel:if(\n  isNonBlank(value),\n  with(\n    smartSplit( toString(value), '-'),\n    aList,\n    if(\n      toNumber( aList[0] ) > 3,\n      with(\n        trim( smartSplit( aList[1] )[3] ),\n        cIng,\n        if( cIng=='B', 'Cocoa_bean',\n          if( cIng=='S', 'Sugar',\n            if( cIng=='S*', 'Sugar_substitute',\n              if( cIng=='C', 'Cocoa_butter',\n                if( cIng=='V', 'Vanilla',\n                  if( cIng=='L', 'Lecithin',\n                    if( cIng=='Sa', 'Salt',\n                      null ) ) ) ) ) ) )\n      ),\n      null\n    )\n  ),\n  null\n)"
                              }
                            }
                          ]
                        },
                        {
                          "prefix": "rdfs",
                          "valueSource": {
                            "source": "constant",
                            "constant": "seeAlso"
                          },
                          "objectMappings": [
                            {
                              "prefix": "wiki",
                              "valueType": {
                                "type": "iri"
                              },
                              "valueSource": {
                                "source": "column",
                                "columnName": "Ingredients"
                              },
                              "expression": {
                                "language": "grel",
                                "code": "grel:if(\n  isNonBlank(value),\n  if(\n    toNumber( smartSplit( slice( toString(value), 0, 3), '-')[0]) > 3,\n    with(\n      trim( smartSplit( slice( toString(value), 3) )[3] ),\n      cIng,\n      if( cIng=='B', 'Cocoa_bean',\n        if( cIng=='S', 'Sugar',\n          if( cIng=='S*', 'Sugar_substitute',\n            if( cIng=='C', 'Cocoa_butter',\n              if( cIng=='V', 'Vanilla',\n                if( cIng=='L', 'Lecithin',\n                  if( cIng=='Sa', 'Salt',\n                    null ) ) ) ) ) ) )\n    ),\n    null\n  ),\n  null\n)"
                              }
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "prefix": "rdf",
                  "valueSource": {
                    "source": "constant",
                    "constant": "li"
                  },
                  "objectMappings": [
                    {
                      "prefix": "ingred",
                      "valueType": {
                        "type": "iri"
                      },
                      "valueSource": {
                        "source": "column",
                        "columnName": "Ingredients"
                      },
                      "expression": {
                        "language": "grel",
                        "code": "grel:if(\n  isNonBlank(value),\n  with(\n    smartSplit( toString(value), '-'),\n    aList,\n    if(\n      toNumber( aList[0] ) > 4,\n      toIRIString(\n        with(\n          trim( smartSplit( aList[1] )[4] ),\n          cIng,\n          if( cIng=='B', 'Beans',\n            if( cIng=='S', 'Sugar',\n              if( cIng=='S*', 'Non-sugar Sweetener',\n                if( cIng=='C', 'Cocoa Butter',\n                  if( cIng=='V', 'Vanilla',\n                    if( cIng=='L', 'Lecithin',\n                      if( cIng=='Sa', 'Salt',\n                        null ) ) ) ) ) ) )\n        )\n      ),\n      null\n    )\n  ),\n  null\n)"
                      },
                      "typeMappings": [
                        {
                          "prefix": "choc",
                          "valueSource": {
                            "source": "constant",
                            "constant": "Ingredient"
                          }
                        }
                      ],
                      "propertyMappings": [
                        {
                          "prefix": "rdfs",
                          "valueSource": {
                            "source": "constant",
                            "constant": "label"
                          },
                          "objectMappings": [
                            {
                              "valueType": {
                                "type": "literal"
                              },
                              "valueSource": {
                                "source": "column",
                                "columnName": "Ingredients"
                              },
                              "expression": {
                                "language": "grel",
                                "code": "grel:if(\n  isNonBlank(value),\n  with(\n    smartSplit( toString(value), '-'),\n    aList,\n    if(\n      toNumber( aList[0] ) > 4,\n      with(\n        trim( smartSplit( aList[1] )[4] ),\n        cIng,\n        if( cIng=='B', 'Beans',\n          if( cIng=='S', 'Sugar',\n            if( cIng=='S*', 'Non-sugar Sweetener',\n              if( cIng=='C', 'Cocoa Butter',\n                if( cIng=='V', 'Vanilla',\n                  if( cIng=='L', 'Lecithin',\n                    if( cIng=='Sa', 'Salt',\n                      null ) ) ) ) ) ) )\n      ),\n      null\n    )\n  ),\n  null\n)"
                              }
                            }
                          ]
                        },
                        {
                          "prefix": "rdfs",
                          "valueSource": {
                            "source": "constant",
                            "constant": "seeAlso"
                          },
                          "objectMappings": [
                            {
                              "prefix": "wiki",
                              "valueType": {
                                "type": "iri"
                              },
                              "valueSource": {
                                "source": "column",
                                "columnName": "Ingredients"
                              },
                              "expression": {
                                "language": "grel",
                                "code": "grel:if(\n  isNonBlank(value),\n  with(\n    smartSplit( toString(value), '-'),\n    aList,\n    if(\n      toNumber( aList[0] ) > 4,\n      with(\n        trim( smartSplit( aList[1] )[4] ),\n        cIng,\n        if( cIng=='B', 'Cocoa_bean',\n          if( cIng=='S', 'Sugar',\n            if( cIng=='S*', 'Sugar_substitute',\n              if( cIng=='C', 'Cocoa_butter',\n                if( cIng=='V', 'Vanilla',\n                  if( cIng=='L', 'Lecithin',\n                    if( cIng=='Sa', 'Salt',\n                      null ) ) ) ) ) ) )\n      ),\n      null\n    )\n  ),\n  null\n)"
                              }
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "prefix": "rdf",
                  "valueSource": {
                    "source": "constant",
                    "constant": "li"
                  },
                  "objectMappings": [
                    {
                      "prefix": "ingred",
                      "valueType": {
                        "type": "iri"
                      },
                      "valueSource": {
                        "source": "column",
                        "columnName": "Ingredients"
                      },
                      "expression": {
                        "language": "grel",
                        "code": "grel:if(\n  isNonBlank(value),\n  with(\n    smartSplit( toString(value), '-'),\n    aList,\n    if(\n      toNumber( aList[0] ) > 5,\n      toIRIString(\n        with(\n          trim( smartSplit( aList[1] )[5] ),\n          cIng,\n          if( cIng=='B', 'Beans',\n            if( cIng=='S', 'Sugar',\n              if( cIng=='S*', 'Non-sugar Sweetener',\n                if( cIng=='C', 'Cocoa Butter',\n                  if( cIng=='V', 'Vanilla',\n                    if( cIng=='L', 'Lecithin',\n                      if( cIng=='Sa', 'Salt',\n                        null ) ) ) ) ) ) )\n        )\n      ),\n      null\n    )\n  ),\n  null\n)"
                      },
                      "typeMappings": [
                        {
                          "prefix": "choc",
                          "valueSource": {
                            "source": "constant",
                            "constant": "Ingredient"
                          }
                        }
                      ],
                      "propertyMappings": [
                        {
                          "prefix": "rdfs",
                          "valueSource": {
                            "source": "constant",
                            "constant": "label"
                          },
                          "objectMappings": [
                            {
                              "valueType": {
                                "type": "literal"
                              },
                              "valueSource": {
                                "source": "column",
                                "columnName": "Ingredients"
                              },
                              "expression": {
                                "language": "grel",
                                "code": "grel:if(\n  isNonBlank(value),\n  with(\n    smartSplit( toString(value), '-'),\n    aList,\n    if(\n      toNumber( aList[0] ) > 5,\n      with(\n        trim( smartSplit( aList[1] )[5] ),\n        cIng,\n        if( cIng=='B', 'Beans',\n          if( cIng=='S', 'Sugar',\n            if( cIng=='S*', 'Non-sugar Sweetener',\n              if( cIng=='C', 'Cocoa Butter',\n                if( cIng=='V', 'Vanilla',\n                  if( cIng=='L', 'Lecithin',\n                    if( cIng=='Sa', 'Salt',\n                      null ) ) ) ) ) ) )\n      ),\n      null\n    )\n  ),\n  null\n)"
                              }
                            }
                          ]
                        },
                        {
                          "prefix": "rdfs",
                          "valueSource": {
                            "source": "constant",
                            "constant": "seeAlso"
                          },
                          "objectMappings": [
                            {
                              "prefix": "wiki",
                              "valueType": {
                                "type": "iri"
                              },
                              "valueSource": {
                                "source": "column",
                                "columnName": "Ingredients"
                              },
                              "expression": {
                                "language": "grel",
                                "code": "grel:if(\n  isNonBlank(value),\n  with(\n    smartSplit( toString(value), '-'),\n    aList,\n    if(\n      toNumber( aList[0] ) > 5,\n      with(\n        trim( smartSplit( aList[1] )[5] ),\n        cIng,\n        if( cIng=='B', 'Cocoa_bean',\n          if( cIng=='S', 'Sugar',\n            if( cIng=='S*', 'Sugar_substitute',\n              if( cIng=='C', 'Cocoa_butter',\n                if( cIng=='V', 'Vanilla',\n                  if( cIng=='L', 'Lecithin',\n                    if( cIng=='Sa', 'Salt',\n                      null ) ) ) ) ) ) )\n      ),\n      null\n    )\n  ),\n  null\n)"
                              }
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "prefix": "rdf",
                  "valueSource": {
                    "source": "constant",
                    "constant": "li"
                  },
                  "objectMappings": [
                    {
                      "prefix": "ingred",
                      "valueType": {
                        "type": "iri"
                      },
                      "valueSource": {
                        "source": "column",
                        "columnName": "Ingredients"
                      },
                      "expression": {
                        "language": "grel",
                        "code": "grel:if(\n  isNonBlank(value),\n  with(\n    smartSplit( toString(value), '-'),\n    aList,\n    if(\n      toNumber( aList[0] ) > 6,\n      toIRIString(\n        with(\n          trim( smartSplit( aList[1] )[6] ),\n          cIng,\n          if( cIng=='B', 'Beans',\n            if( cIng=='S', 'Sugar',\n              if( cIng=='S*', 'Non-sugar Sweetener',\n                if( cIng=='C', 'Cocoa Butter',\n                  if( cIng=='V', 'Vanilla',\n                    if( cIng=='L', 'Lecithin',\n                      if( cIng=='Sa', 'Salt',\n                        null ) ) ) ) ) ) )\n        )\n      ),\n      null\n    )\n  ),\n  null\n)"
                      },
                      "typeMappings": [
                        {
                          "prefix": "choc",
                          "valueSource": {
                            "source": "constant",
                            "constant": "Ingredient"
                          }
                        }
                      ],
                      "propertyMappings": [
                        {
                          "prefix": "rdfs",
                          "valueSource": {
                            "source": "constant",
                            "constant": "label"
                          },
                          "objectMappings": [
                            {
                              "valueType": {
                                "type": "literal"
                              },
                              "valueSource": {
                                "source": "column",
                                "columnName": "Ingredients"
                              },
                              "expression": {
                                "language": "grel",
                                "code": "grel:if(\n  isNonBlank(value),\n  with(\n    smartSplit( toString(value), '-'),\n    aList,\n    if(\n      toNumber( aList[0] ) > 6,\n      with(\n        trim( smartSplit( aList[1] )[6] ),\n        cIng,\n        if( cIng=='B', 'Beans',\n          if( cIng=='S', 'Sugar',\n            if( cIng=='S*', 'Non-sugar Sweetener',\n              if( cIng=='C', 'Cocoa Butter',\n                if( cIng=='V', 'Vanilla',\n                  if( cIng=='L', 'Lecithin',\n                    if( cIng=='Sa', 'Salt',\n                      null ) ) ) ) ) ) )\n      ),\n      null\n    )\n  ),\n  null\n)"
                              }
                            }
                          ]
                        },
                        {
                          "prefix": "rdfs",
                          "valueSource": {
                            "source": "constant",
                            "constant": "seeAlso"
                          },
                          "objectMappings": [
                            {
                              "prefix": "wiki",
                              "valueType": {
                                "type": "iri"
                              },
                              "valueSource": {
                                "source": "column",
                                "columnName": "Ingredients"
                              },
                              "expression": {
                                "language": "grel",
                                "code": "grel:if(\n  isNonBlank(value),\n  with(\n    smartSplit( toString(value), '-'),\n    aList,\n    if(\n      toNumber( aList[0] ) > 6,\n      with(\n        trim( smartSplit( aList[1] )[6] ),\n        cIng,\n        if( cIng=='B', 'Cocoa_bean',\n          if( cIng=='S', 'Sugar',\n            if( cIng=='S*', 'Sugar_substitute',\n              if( cIng=='C', 'Cocoa_butter',\n                if( cIng=='V', 'Vanilla',\n                  if( cIng=='L', 'Lecithin',\n                    if( cIng=='Sa', 'Salt',\n                      null ) ) ) ) ) ) )\n      ),\n      null\n    )\n  ),\n  null\n)"
                              }
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "prefix": "choc",
          "valueSource": {
            "source": "constant",
            "constant": "characteristics"
          },
          "objectMappings": [
            {
              "valueType": {
                "type": "bnode"
              },
              "valueSource": {
                "source": "column",
                "columnName": "Most Memorable Characteristics"
              },
              "typeMappings": [
                {
                  "prefix": "rdf",
                  "valueSource": {
                    "source": "constant",
                    "constant": "Bag"
                  }
                }
              ],
              "propertyMappings": [
                {
                  "prefix": "rdf",
                  "valueSource": {
                    "source": "constant",
                    "constant": "li"
                  },
                  "objectMappings": [
                    {
                      "valueType": {
                        "type": "literal"
                      },
                      "valueSource": {
                        "source": "column",
                        "columnName": "Characteristics"
                      },
                      "expression": {
                        "language": "grel",
                        "code": "grel:with(\n  if(\n    isNonBlank(value),\n    smartSplit( toString(value), \" and \" ),\n    null\n  ),\n  aAnd,\n  if(\n    isNotNull(aAnd),\n    strip(\n      with(\n        smartSplit(\n          if( length(aAnd) == 2, aAnd[0] + \", \" + aAnd[1], aAnd[0] ),\n          ','\n        ),\n        aList,\n        if( length(aList) > 0, aList[0], '')\n      )\n    ),\n    aAnd\n  )\n)"
                      }
                    }
                  ]
                },
                {
                  "prefix": "rdf",
                  "valueSource": {
                    "source": "constant",
                    "constant": "li"
                  },
                  "objectMappings": [
                    {
                      "valueType": {
                        "type": "literal"
                      },
                      "valueSource": {
                        "source": "column",
                        "columnName": "Characteristics"
                      },
                      "expression": {
                        "language": "grel",
                        "code": "grel:with(\n  if(\n    isNonBlank(value),\n    smartSplit( toString(value), \" and \" ),\n    null\n  ),\n  aAnd,\n  if(\n    isNotNull(aAnd),\n    strip(\n      with(\n        smartSplit(\n          if( length(aAnd) == 2, aAnd[0] + \", \" + aAnd[1], aAnd[0] ),\n          ','\n        ),\n        aList,\n        if( length(aList) > 1, aList[1], '')\n      )\n    ),\n    aAnd\n  )\n)"
                      }
                    }
                  ]
                },
                {
                  "prefix": "rdf",
                  "valueSource": {
                    "source": "constant",
                    "constant": "li"
                  },
                  "objectMappings": [
                    {
                      "valueType": {
                        "type": "literal"
                      },
                      "valueSource": {
                        "source": "column",
                        "columnName": "Characteristics"
                      },
                      "expression": {
                        "language": "grel",
                        "code": "grel:with(\n  if(\n    isNonBlank(value),\n    smartSplit( toString(value), \" and \" ),\n    null\n  ),\n  aAnd,\n  if(\n    isNotNull(aAnd),\n    strip(\n      with(\n        smartSplit(\n          if( length(aAnd) == 2, aAnd[0] + \", \" + aAnd[1], aAnd[0] ),\n          ','\n        ),\n        aList,\n        if( length(aList) > 2, aList[2], '')\n      )\n    ),\n    aAnd\n  )\n)"
                      }
                    }
                  ]
                },
                {
                  "prefix": "rdf",
                  "valueSource": {
                    "source": "constant",
                    "constant": "li"
                  },
                  "objectMappings": [
                    {
                      "valueType": {
                        "type": "literal"
                      },
                      "valueSource": {
                        "source": "column",
                        "columnName": "Characteristics"
                      },
                      "expression": {
                        "language": "grel",
                        "code": "grel:with(\n  if(\n    isNonBlank(value),\n    smartSplit( toString(value), \" and \" ),\n    null\n  ),\n  aAnd,\n  if(\n    isNotNull(aAnd),\n    strip(\n      with(\n        smartSplit(\n          if( length(aAnd) == 2, aAnd[0] + \", \" + aAnd[1], aAnd[0] ),\n          ','\n        ),\n        aList,\n        if( length(aList) > 3, aList[3], '')\n      )\n    ),\n    aAnd\n  )\n)"
                      }
                    }
                  ]
                },
                {
                  "prefix": "rdf",
                  "valueSource": {
                    "source": "constant",
                    "constant": "li"
                  },
                  "objectMappings": [
                    {
                      "valueType": {
                        "type": "literal"
                      },
                      "valueSource": {
                        "source": "column",
                        "columnName": "Characteristics"
                      },
                      "expression": {
                        "language": "grel",
                        "code": "grel:with(\n  if(\n    isNonBlank(value),\n    smartSplit( toString(value), \" and \" ),\n    null\n  ),\n  aAnd,\n  if(\n    isNotNull(aAnd),\n    strip(\n      with(\n        smartSplit(\n          if( length(aAnd) == 2, aAnd[0] + \", \" + aAnd[1], aAnd[0] ),\n          ','\n        ),\n        aList,\n        if( length(aList) > 4, aList[4], '')\n      )\n    ),\n    aAnd\n  )\n)"
                      }
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "prefix": "choc",
          "valueSource": {
            "source": "constant",
            "constant": "rating"
          },
          "objectMappings": [
            {
              "valueType": {
                "type": "datatype_literal",
                "datatype": {
                  "prefix": "xsd",
                  "valueSource": {
                    "source": "constant",
                    "constant": "double"
                  }
                }
              },
              "valueSource": {
                "source": "column",
                "columnName": "Rating"
              },
              "expression": {
                "language": "grel",
                "code": "grel:value.toNumber()"
              }
            }
          ]
        }
      ]
    }
  ]
}
</pre>